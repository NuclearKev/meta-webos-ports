From d7b1a7c4a00e78a4f649d1a9ba43c780aef1b1a9 Mon Sep 17 00:00:00 2001
From: Christophe Chapuis <chris.chapuis@gmail.com>
Date: Wed, 28 Oct 2015 22:14:42 +0100
Subject: [PATCH 05/10] WindowFeatures, Chrome: lower the minimum height to 5

* In case the height is expressed in GridUnits, it means it won't be possible to create a window with a height lower than 5gu.
* Chrome: lower minimum height to 5

Signed-off-by: Christophe Chapuis <chris.chapuis@gmail.com>
---
 chromium/third_party/WebKit/Source/core/page/ChromeClient.h     | 2 +-
 chromium/third_party/WebKit/Source/core/page/WindowFeatures.cpp | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/chromium/third_party/WebKit/Source/core/page/ChromeClient.h b/chromium/third_party/WebKit/Source/core/page/ChromeClient.h
index f6a5b08..b07dd3b 100644
--- a/chromium/third_party/WebKit/Source/core/page/ChromeClient.h
+++ b/chromium/third_party/WebKit/Source/core/page/ChromeClient.h
@@ -242,7 +242,7 @@ public:
     virtual bool requestPointerLock(LocalFrame*) { return false; }
     virtual void requestPointerUnlock(LocalFrame*) {}
 
-    virtual IntSize minimumWindowSize() const { return IntSize(100, 100); }
+    virtual IntSize minimumWindowSize() const { return IntSize(100, 5); }
 
     virtual bool isChromeClientImpl() const { return false; }
 
diff --git a/chromium/third_party/WebKit/Source/core/page/WindowFeatures.cpp b/chromium/third_party/WebKit/Source/core/page/WindowFeatures.cpp
index 9eaa858..e490275 100644
--- a/chromium/third_party/WebKit/Source/core/page/WindowFeatures.cpp
+++ b/chromium/third_party/WebKit/Source/core/page/WindowFeatures.cpp
@@ -212,7 +212,7 @@ WindowFeatures::WindowFeatures(const String& dialogFeaturesString, const IntRect
     // - unadorned: trusted && boolFeature(features, "unadorned");
 
     width = intFeature(features, "dialogwidth", 100, screenAvailableRect.width(), 620); // default here came from frame size of dialog in MacIE
-    height = intFeature(features, "dialogheight", 100, screenAvailableRect.height(), 450); // default here came from frame size of dialog in MacIE
+    height = intFeature(features, "dialogheight", 5, screenAvailableRect.height(), 450); // default here came from frame size of dialog in MacIE
 
     x = intFeature(features, "dialogleft", screenAvailableRect.x(), screenAvailableRect.maxX() - width, -1);
     xSet = x > 0;
-- 
2.7.4


From 5f3a36ba48af29c90b369ee31e69f2a0b1ac65b8 Mon Sep 17 00:00:00 2001
From: Christophe Chapuis <chris.chapuis@gmail.com>
Date: Sun, 18 Oct 2015 21:17:32 +0200
Subject: [PATCH 09/14] Store the additional window features required by the
 LuneOS apps in the WebContentsViewQt object

Signed-off-by: Christophe Chapuis <chris.chapuis@gmail.com>
---
 src/core/web_contents_view_qt.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/src/core/web_contents_view_qt.h b/src/core/web_contents_view_qt.h
index 48532c0..54b1753 100644
--- a/src/core/web_contents_view_qt.h
+++ b/src/core/web_contents_view_qt.h
@@ -71,6 +71,9 @@ public:
     void initialize(WebContentsAdapterClient* client);
     WebContentsAdapterClient *client() { return m_client; }
 
+    virtual void setWindowAdditionalFeatures(const std::vector<base::string16> &additional_features) Q_DECL_OVERRIDE { m_additional_features = additional_features; }
+    virtual std::vector<base::string16> getWindowAdditionalFeatures() Q_DECL_OVERRIDE { return m_additional_features; }
+
     virtual content::RenderWidgetHostViewBase *CreateViewForWidget(content::RenderWidgetHost* render_widget_host, bool is_guest_view_hack) Q_DECL_OVERRIDE;
 
     virtual void CreateView(const gfx::Size& initial_size, gfx::NativeView context) Q_DECL_OVERRIDE;
@@ -131,6 +134,7 @@ private:
     WebContentsAdapterClient *m_client;
     WebContentsAdapterClient *m_factoryClient;
     bool m_allowOtherViews;
+    std::vector<base::string16> m_additional_features;
 };
 
 } // namespace QtWebEngineCore
-- 
2.7.4

